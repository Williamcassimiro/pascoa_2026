<!doctype html>
<html lang="pt-BR" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CardÃ¡pio de PÃ¡scoa</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&amp;family=Nunito:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    
    .font-display { font-family: 'Playfair Display', serif; }
    .font-body { font-family: 'Nunito', sans-serif; }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-10px) rotate(3deg); }
    }
    
    @keyframes sparkle {
      0%, 100% { opacity: 0.3; transform: scale(0.8); }
      50% { opacity: 1; transform: scale(1.2); }
    }
    
    .float-animation {
      animation: float 4s ease-in-out infinite;
    }
    
    .sparkle {
      animation: sparkle 2s ease-in-out infinite;
    }
    
    .egg-card {
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .egg-card:hover {
      transform: translateY(-8px) scale(1.02);
    }
    
    .egg-card.selected {
      transform: scale(1.03);
    }
    
    .flavor-chip {
      transition: all 0.3s ease;
    }
    
    .flavor-chip:hover {
      transform: scale(1.05);
    }
    
    .flavor-chip.selected {
      transform: scale(1.08);
    }
    
    .gradient-border {
      background: linear-gradient(135deg, #d4a574, #8b5a2b, #d4a574);
      background-size: 200% 200%;
      animation: gradient-shift 3s ease infinite;
    }
    
    @keyframes gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    .glass-effect {
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    
    .category-fruta { --category-color: #e879a9; }
    .category-especial { --category-color: #f5c842; }
    .category-tradicional { --category-color: #6b8cce; }
    
    .step-indicator {
      transition: all 0.5s ease;
    }
    
    .step-indicator.active {
      transform: scale(1.1);
    }
    
    .step-indicator.completed {
      background: linear-gradient(135deg, #4ade80, #22c55e);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full font-body overflow-auto" style="margin: 0;">
  <div id="app-wrapper" class="min-h-full w-full" style="background: linear-gradient(180deg, #fef7ed 0%, #fdf2e3 50%, #fcead4 100%);"><!-- Decorative Elements -->
   <div class="fixed inset-0 pointer-events-none overflow-hidden">
    <div class="absolute top-10 left-10 text-4xl sparkle" style="animation-delay: 0s;">
     âœ¨
    </div>
    <div class="absolute top-20 right-20 text-3xl sparkle" style="animation-delay: 0.5s;">
     ğŸ°
    </div>
    <div class="absolute bottom-40 left-20 text-3xl sparkle" style="animation-delay: 1s;">
     ğŸŒ¸
    </div>
    <div class="absolute bottom-20 right-10 text-4xl sparkle" style="animation-delay: 1.5s;">
     âœ¨
    </div>
   </div>
   <div class="relative max-w-4xl mx-auto px-4 py-8"><!-- Header -->
    <header class="text-center mb-10">
     <div class="inline-block mb-4">
      <div class="text-6xl float-animation">
       ğŸ¥š
      </div>
     </div>
     <h1 id="page-title" class="font-display text-4xl md:text-5xl font-bold mb-3" style="color: #5c3d2e;">PÃ¡scoa 2026</h1>
     <p class="text-lg" style="color: #8b6914;">Ovos artesanais feitos com amor</p><!-- Progress Steps -->
     <div class="flex justify-center items-center gap-4 mt-8">
      <div id="step1-indicator" class="step-indicator active w-10 h-10 rounded-full flex items-center justify-center text-white font-bold shadow-lg" style="background: linear-gradient(135deg, #d4a574, #8b5a2b);">
       1
      </div>
      <div class="w-12 h-1 rounded" style="background: #e8d5c4;"></div>
      <div id="step2-indicator" class="step-indicator w-10 h-10 rounded-full flex items-center justify-center font-bold shadow-lg" style="background: #e8d5c4; color: #8b5a2b;">
       2
      </div>
      <div class="w-12 h-1 rounded" style="background: #e8d5c4;"></div>
      <div id="step3-indicator" class="step-indicator w-10 h-10 rounded-full flex items-center justify-center font-bold shadow-lg" style="background: #e8d5c4; color: #8b5a2b;">
       âœ“
      </div>
     </div>
    </header><!-- Image Carousel -->
    <section id="carousel-section" class="mb-10">
     <div class="relative rounded-3xl overflow-hidden shadow-2xl" style="height: 400px; background: linear-gradient(135deg, #d4a574, #8b5a2b);">
      <div class="relative w-full h-full flex items-center justify-center"><!-- Carousel Items -->
       <div id="carousel-track" class="flex transition-transform duration-500 ease-out w-full h-full"><!-- Slide 1: Trio -->
        <div class="carousel-slide w-full h-full flex-shrink-0 flex items-center justify-center relative"><img src="https://www.mifascinodoceria.com.br/wp-content/uploads/2024/03/MG_3788-scaled.jpg" alt="Trio de Mini Ovos de Colher" loading="lazy" onerror="console.error('Image failed to load:', this.src); this.style.display='none'; this.nextElementSibling.style.display='flex';" class="w-full h-full object-cover">
         <div class="absolute inset-0 flex items-center justify-center text-center px-6 hidden" style="background: linear-gradient(135deg, #fef7ed, #fffcf7);">
          <div>
           <div class="text-6xl mb-4">
            ğŸ
           </div>
           <h3 class="font-display text-3xl font-bold mb-3" style="color: #5c3d2e;">Trio de Mini Ovos</h3>
           <p class="text-lg mb-2" style="color: #8b6914;">150g no total</p>
           <p style="color: #8b6914;">3 sabores diferentes em um presente perfeito âœ¨</p>
          </div>
         </div>
        </div><!-- Slide 2: Trufado 250g -->
        <div class="carousel-slide w-full h-full flex-shrink-0 flex items-center justify-center relative"><img src="https://chocolatesbomsabor.com.br/wp-content/uploads/2022/02/IMG_4192.png" alt="Ovo Trufado 250g" loading="lazy" onerror="console.error('Image failed to load:', this.src); this.style.display='none'; this.nextElementSibling.style.display='flex';" class="w-full h-full object-cover">
         <div class="absolute inset-0 flex items-center justify-center text-center px-6 hidden" style="background: linear-gradient(135deg, #fef7ed, #fffcf7);">
          <div>
           <div class="text-6xl mb-4">
            ğŸ«
           </div>
           <h3 class="font-display text-3xl font-bold mb-3" style="color: #5c3d2e;">Ovo Trufado 250g</h3>
           <p class="text-lg mb-2" style="color: #8b6914;">Recheio Cremoso</p>
           <p style="color: #8b6914;">Casca crocante e sabor incomparÃ¡vel ğŸ˜‹</p>
          </div>
         </div>
        </div><!-- Slide 3: Trufado 350g -->
        <div class="carousel-slide w-full h-full flex-shrink-0 flex items-center justify-center relative"><img src="https://p2.trrsf.com/image/fget/cf/774/0/images.terra.com/2025/03/29/1095338354-ovo-trufado-de-maracuja.jpg" alt="Ovo Trufado 350g" loading="lazy" onerror="console.error('Image failed to load:', this.src); this.style.display='none'; this.nextElementSibling.style.display='flex';" class="w-full h-full object-cover">
         <div class="absolute inset-0 flex items-center justify-center text-center px-6 hidden" style="background: linear-gradient(135deg, #fef7ed, #fffcf7);">
          <div>
           <div class="text-6xl mb-4">
            ğŸ«
           </div>
           <h3 class="font-display text-3xl font-bold mb-3" style="color: #5c3d2e;">Ovo Trufado 350g</h3>
           <p class="text-lg mb-2" style="color: #8b6914;">Recheio Cremoso</p>
           <p style="color: #8b6914;">Maior e mais generoso! Perfeito para compartilhar ğŸ¤</p>
          </div>
         </div>
        </div>
       </div><!-- Navigation Buttons --> <button onclick="moveCarousel(-1)" class="absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg transition-all hover:scale-110 z-10" style="background: rgba(139, 90, 43, 0.7); backdrop-filter: blur(10px);"> â® </button> <button onclick="moveCarousel(1)" class="absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg transition-all hover:scale-110 z-10" style="background: rgba(139, 90, 43, 0.7); backdrop-filter: blur(10px);"> â¯ </button> <!-- Dots Indicator -->
       <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10"><button class="carousel-dot w-3 h-3 rounded-full transition-all cursor-pointer" style="background: white;" onclick="goToSlide(0)"></button> <button class="carousel-dot w-3 h-3 rounded-full transition-all cursor-pointer" style="background: rgba(255,255,255,0.5);" onclick="goToSlide(1)"></button> <button class="carousel-dot w-3 h-3 rounded-full transition-all cursor-pointer" style="background: rgba(255,255,255,0.5);" onclick="goToSlide(2)"></button>
       </div>
      </div>
     </div>
    </section><!-- Step 1: Choose Egg Type -->
    <section id="step1" class="mb-10">
     <div class="flex items-center gap-3 mb-6"><span class="text-2xl">ğŸ¥š</span>
      <h2 class="font-display text-2xl font-semibold" style="color: #5c3d2e;">Etapa 1 â€” Escolha o Tipo de Ovo</h2>
     </div>
     <div class="grid md:grid-cols-2 gap-6"><!-- Trio Mini Ovos -->
      <div class="egg-card cursor-pointer rounded-3xl p-1 gradient-border" data-egg-type="trio" onclick="selectEggType('trio')">
       <div class="rounded-3xl p-6 h-full" style="background: #fffcf7;">
        <div class="flex items-start justify-between mb-4">
         <div class="text-4xl">
          ğŸ
         </div>
         <div id="trio-check" class="w-7 h-7 rounded-full border-2 flex items-center justify-center transition-all" style="border-color: #d4a574;">
          <svg class="w-4 h-4 hidden" fill="none" stroke="currentColor" viewbox="0 0 24 24" style="color: #8b5a2b;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
          </svg>
         </div>
        </div>
        <h3 class="font-display text-xl font-semibold mb-2" style="color: #5c3d2e;">Trio de Mini Ovos de Colher</h3>
        <p class="text-sm mb-3" style="color: #8b6914;">150g no total (3 unidades de 50g)</p>
        <div class="flex gap-2"><span class="text-xs px-3 py-1 rounded-full" style="background: #fef3e2; color: #8b5a2b;">3 sabores</span> <span class="text-xs px-3 py-1 rounded-full" style="background: #fef3e2; color: #8b5a2b;">perfeito p/ presente</span>
        </div>
       </div>
      </div><!-- Ovo Trufado -->
      <div class="egg-card cursor-pointer rounded-3xl p-1 gradient-border" data-egg-type="trufado" onclick="selectEggType('trufado')">
       <div class="rounded-3xl p-6 h-full" style="background: #fffcf7;">
        <div class="flex items-start justify-between mb-4">
         <div class="text-4xl">
          ğŸ«
         </div>
         <div id="trufado-check" class="w-7 h-7 rounded-full border-2 flex items-center justify-center transition-all" style="border-color: #d4a574;">
          <svg class="w-4 h-4 hidden" fill="none" stroke="currentColor" viewbox="0 0 24 24" style="color: #8b5a2b;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
          </svg>
         </div>
        </div>
        <h3 class="font-display text-xl font-semibold mb-2" style="color: #5c3d2e;">Ovo Trufado Tradicional</h3>
        <p class="text-sm mb-3" style="color: #8b6914;">Recheio cremoso e casca crocante</p><!-- Size Selection -->
        <div id="size-options" class="space-y-2 opacity-50 pointer-events-none transition-all">
         <p class="text-xs font-semibold mb-2" style="color: #8b5a2b;">Escolha o tamanho:</p><label class="flex items-center gap-3 cursor-pointer p-2 rounded-xl hover:bg-amber-50 transition-colors"> <input type="radio" name="size" value="250g" class="w-4 h-4 accent-amber-700"> <span class="text-sm" style="color: #5c3d2e;">250g</span> </label> <label class="flex items-center gap-3 cursor-pointer p-2 rounded-xl hover:bg-amber-50 transition-colors"> <input type="radio" name="size" value="350g" class="w-4 h-4 accent-amber-700"> <span class="text-sm" style="color: #5c3d2e;">350g</span> </label>
        </div>
       </div>
      </div>
     </div>
    </section><!-- Step 2: Choose Flavors -->
    <section id="step2" class="mb-10 opacity-50 pointer-events-none transition-all duration-500">
     <div class="flex items-center gap-3 mb-6"><span class="text-2xl">ğŸ§©</span>
      <h2 class="font-display text-2xl font-semibold" style="color: #5c3d2e;">Etapa 2 â€” Escolha os Sabores</h2>
     </div>
     <p id="flavor-instruction" class="text-sm mb-6 p-4 rounded-2xl" style="background: #fff8ed; color: #8b6914; border: 1px dashed #d4a574;">ğŸ“Œ Selecione os sabores para seu pedido</p><!-- Categoria Fruta -->
     <div class="mb-6">
      <div class="flex items-center gap-2 mb-4"><span class="text-xl">ğŸ“</span>
       <h3 class="font-semibold" style="color: #e879a9;">CATEGORIA FRUTA</h3>
      </div>
      <div class="flex flex-wrap gap-3"><button class="flavor-chip category-fruta px-5 py-3 rounded-2xl font-medium shadow-md" style="background: linear-gradient(135deg, #fce7f3, #fbcfe8); color: #be185d; border: 2px solid transparent;" data-flavor="Ninho com Morango" data-category="fruta" onclick="toggleFlavor(this)"> ğŸ“ Ninho com Morango </button> <button class="flavor-chip category-fruta px-5 py-3 rounded-2xl font-medium shadow-md" style="background: linear-gradient(135deg, #fce7f3, #fbcfe8); color: #be185d; border: 2px solid transparent;" data-flavor="MaracujÃ¡" data-category="fruta" onclick="toggleFlavor(this)"> ğŸ‹ MaracujÃ¡ </button> <button class="flavor-chip category-fruta px-5 py-3 rounded-2xl font-medium shadow-md" style="background: linear-gradient(135deg, #fce7f3, #fbcfe8); color: #be185d; border: 2px solid transparent;" data-flavor="Cereja" data-category="fruta" onclick="toggleFlavor(this)"> ğŸ’ Cereja </button>
      </div>
     </div><!-- Categoria Especial -->
     <div class="mb-6">
      <div class="flex items-center gap-2 mb-4"><span class="text-xl">âœ¨</span>
       <h3 class="font-semibold" style="color: #d97706;">CATEGORIA ESPECIAL</h3>
      </div>
      <div class="flex flex-wrap gap-3"><button class="flavor-chip category-especial px-5 py-3 rounded-2xl font-medium shadow-md" style="background: linear-gradient(135deg, #fef3c7, #fde68a); color: #b45309; border: 2px solid transparent;" data-flavor="Kinder" data-category="especial" onclick="toggleFlavor(this)"> ğŸ« Kinder </button> <button class="flavor-chip category-especial px-5 py-3 rounded-2xl font-medium shadow-md" style="background: linear-gradient(135deg, #fef3c7, #fde68a); color: #b45309; border: 2px solid transparent;" data-flavor="Ouro Branco" data-category="especial" onclick="toggleFlavor(this)"> ğŸ¬ Ouro Branco </button> <button class="flavor-chip category-especial px-5 py-3 rounded-2xl font-medium shadow-md" style="background: linear-gradient(135deg, #fef3c7, #fde68a); color: #b45309; border: 2px solid transparent;" data-flavor="Oreo" data-category="especial" onclick="toggleFlavor(this)"> ğŸª Oreo </button>
      </div>
     </div><!-- Categoria Tradicional -->
     <div class="mb-6">
      <div class="flex items-center gap-2 mb-4"><span class="text-xl">ğŸ«</span>
       <h3 class="font-semibold" style="color: #1e40af;">CATEGORIA TRADICIONAL</h3>
      </div>
      <div class="flex flex-wrap gap-3"><button class="flavor-chip category-tradicional px-5 py-3 rounded-2xl font-medium shadow-md" style="background: linear-gradient(135deg, #dbeafe, #bfdbfe); color: #1e40af; border: 2px solid transparent;" data-flavor="Dois Amores" data-category="tradicional" onclick="toggleFlavor(this)"> ğŸ« Dois Amores </button> <button class="flavor-chip category-tradicional px-5 py-3 rounded-2xl font-medium shadow-md" style="background: linear-gradient(135deg, #dbeafe, #bfdbfe); color: #1e40af; border: 2px solid transparent;" data-flavor="Brigadeiro" data-category="tradicional" onclick="toggleFlavor(this)"> ğŸ« Brigadeiro </button> <button class="flavor-chip category-tradicional px-5 py-3 rounded-2xl font-medium shadow-md" style="background: linear-gradient(135deg, #dbeafe, #bfdbfe); color: #1e40af; border: 2px solid transparent;" data-flavor="Ninho com Nutella" data-category="tradicional" onclick="toggleFlavor(this)"> ğŸ¥›ğŸ« Ninho com Nutella </button>
      </div>
     </div><!-- Selected Flavors Display -->
     <div id="selected-flavors" class="hidden p-4 rounded-2xl" style="background: linear-gradient(135deg, #fef7ed, #fdf2e3); border: 2px solid #d4a574;">
      <p class="font-semibold mb-2" style="color: #5c3d2e;">Sabores selecionados:</p>
      <div id="flavor-list" class="flex flex-wrap gap-2"></div>
     </div><!-- Customer Information -->
     <div id="customer-info" class="hidden mt-8 space-y-4">
      <h3 class="font-semibold text-lg" style="color: #5c3d2e;">ğŸ“‹ InformaÃ§Ãµes de Entrega</h3>
      <div><label for="customer-name" class="block text-sm font-medium mb-2" style="color: #5c3d2e;">Seu Nome *</label> <input type="text" id="customer-name" placeholder="Digite seu nome completo" class="w-full px-4 py-3 rounded-2xl border-2 focus:outline-none focus:border-amber-600 transition-colors" style="border-color: #d4a574; background: #fffcf7;">
      </div>
      <div><label for="customer-city" class="block text-sm font-medium mb-2" style="color: #5c3d2e;">Sua Cidade *</label> <input type="text" id="customer-city" placeholder="Ex: SÃ£o Paulo, Rio de Janeiro" class="w-full px-4 py-3 rounded-2xl border-2 focus:outline-none focus:border-amber-600 transition-colors" style="border-color: #d4a574; background: #fffcf7;">
      </div>
     </div>
    </section><!-- Order Summary -->
    <section id="order-summary" class="mb-10 opacity-50 pointer-events-none transition-all duration-500">
     <div class="rounded-3xl p-1 gradient-border">
      <div class="rounded-3xl p-6" style="background: #fffcf7;">
       <div class="flex items-center gap-3 mb-4"><span class="text-2xl">ğŸ“‹</span>
        <h2 class="font-display text-xl font-semibold" style="color: #5c3d2e;">Resumo do Pedido</h2>
       </div>
       <div id="summary-content" class="space-y-3 mb-6">
        <p class="text-sm" style="color: #8b6914;">Complete as etapas acima para ver o resumo</p>
       </div><!-- WhatsApp Button --> <button id="whatsapp-btn" onclick="sendToWhatsApp()" class="w-full py-4 px-6 rounded-2xl font-bold text-white text-lg shadow-xl transition-all hover:shadow-2xl hover:scale-105 flex items-center justify-center gap-3" style="background: linear-gradient(135deg, #25d366, #128c7e);">
        <svg class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
        </svg> Enviar Pedido pelo WhatsApp </button>
      </div>
     </div>
    </section><!-- Important Info -->
    <section class="mb-8">
     <div class="rounded-3xl p-6" style="background: linear-gradient(135deg, #fef7ed, #fff8ed); border: 2px dashed #d4a574;">
      <div class="flex items-center gap-3 mb-4"><span class="text-2xl">ğŸ“¦</span>
       <h2 class="font-display text-xl font-semibold" style="color: #5c3d2e;">InformaÃ§Ãµes Importantes</h2>
      </div>
      <div class="space-y-3">
       <div class="flex items-start gap-3"><span class="text-xl">ğŸ—“</span>
        <p style="color: #5c3d2e;"><span class="font-semibold">Pedidos aceitos</span> <span id="deadline-display">atÃ© 29/03</span></p>
       </div>
       <div class="flex items-start gap-3"><span class="text-xl">ğŸšš</span>
        <p style="color: #5c3d2e;"><span class="font-semibold">Entregas</span> iniciam 1 semana antes da PÃ¡scoa</p>
       </div>
       <div class="flex items-start gap-3"><span class="text-xl">âš ï¸</span>
        <p style="color: #5c3d2e;"><span class="font-semibold">ProduÃ§Ã£o limitada</span> â€“ sob encomenda</p>
       </div>
      </div>
     </div>
    </section><!-- Footer -->
    <footer class="text-center py-6">
     <p class="text-sm" style="color: #8b6914;">Feito com ğŸ’› para uma PÃ¡scoa especial</p>
    </footer>
   </div>
  </div>
  <script>
    // Default configuration
    const defaultConfig = {
      page_title: 'PÃ¡scoa 2026',
      whatsapp_number: '5545999900411',
      deadline_text: 'atÃ© 29/03',
      background_color: '#fef7ed',
      surface_color: '#fffcf7',
      text_color: '#5c3d2e',
      primary_action_color: '#8b5a2b',
      secondary_action_color: '#d4a574'
    };
    
    // Application state
    let selectedEggType = null;
    let selectedSize = null;
    let selectedFlavors = [];
    let maxFlavors = 1;
    let currentSlide = 0;
    
    // Element SDK initialization
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange: async (config) => {
          // Update page title
          const titleEl = document.getElementById('page-title');
          if (titleEl) titleEl.textContent = config.page_title || defaultConfig.page_title;
          
          // Update deadline display
          const deadlineEl = document.getElementById('deadline-display');
          if (deadlineEl) deadlineEl.textContent = config.deadline_text || defaultConfig.deadline_text;
          
          // Apply colors
          const bgColor = config.background_color || defaultConfig.background_color;
          const surfaceColor = config.surface_color || defaultConfig.surface_color;
          const textColor = config.text_color || defaultConfig.text_color;
          const primaryAction = config.primary_action_color || defaultConfig.primary_action_color;
          const secondaryAction = config.secondary_action_color || defaultConfig.secondary_action_color;
          
          // Update background
          const wrapper = document.getElementById('app-wrapper');
          if (wrapper) wrapper.style.background = `linear-gradient(180deg, ${bgColor} 0%, ${adjustColor(bgColor, -5)} 50%, ${adjustColor(bgColor, -10)} 100%)`;
          
          // Update surfaces
          document.querySelectorAll('[style*="background: #fffcf7"]').forEach(el => {
            el.style.background = surfaceColor;
          });
          
          // Update text colors
          document.querySelectorAll('[style*="color: #5c3d2e"]').forEach(el => {
            el.style.color = textColor;
          });
          
          // Update primary action colors
          document.querySelectorAll('.step-indicator.active, .gradient-border').forEach(el => {
            if (el.classList.contains('gradient-border')) {
              el.style.background = `linear-gradient(135deg, ${secondaryAction}, ${primaryAction}, ${secondaryAction})`;
            }
          });
        },
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => { config.background_color = value; window.elementSdk.setConfig({ background_color: value }); }
            },
            {
              get: () => config.surface_color || defaultConfig.surface_color,
              set: (value) => { config.surface_color = value; window.elementSdk.setConfig({ surface_color: value }); }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => { config.text_color = value; window.elementSdk.setConfig({ text_color: value }); }
            },
            {
              get: () => config.primary_action_color || defaultConfig.primary_action_color,
              set: (value) => { config.primary_action_color = value; window.elementSdk.setConfig({ primary_action_color: value }); }
            },
            {
              get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
              set: (value) => { config.secondary_action_color = value; window.elementSdk.setConfig({ secondary_action_color: value }); }
            }
          ],
          borderables: [],
          fontEditable: {
            get: () => config.font_family || 'Nunito',
            set: (value) => { config.font_family = value; window.elementSdk.setConfig({ font_family: value }); }
          },
          fontSizeable: {
            get: () => config.font_size || 16,
            set: (value) => { config.font_size = value; window.elementSdk.setConfig({ font_size: value }); }
          }
        }),
        mapToEditPanelValues: (config) => new Map([
          ['page_title', config.page_title || defaultConfig.page_title],
          ['whatsapp_number', config.whatsapp_number || defaultConfig.whatsapp_number],
          ['deadline_text', config.deadline_text || defaultConfig.deadline_text]
        ])
      });
    }
    
    // Helper function to adjust color brightness
    function adjustColor(hex, percent) {
      const num = parseInt(hex.replace('#', ''), 16);
      const amt = Math.round(2.55 * percent);
      const R = Math.max(0, Math.min(255, (num >> 16) + amt));
      const G = Math.max(0, Math.min(255, ((num >> 8) & 0x00FF) + amt));
      const B = Math.max(0, Math.min(255, (num & 0x0000FF) + amt));
      return `#${(0x1000000 + R * 0x10000 + G * 0x100 + B).toString(16).slice(1)}`;
    }
    
    // Carousel functions
    function moveCarousel(direction) {
      const slides = document.querySelectorAll('.carousel-slide').length;
      currentSlide = (currentSlide + direction + slides) % slides;
      updateCarousel();
    }
    
    function goToSlide(index) {
      currentSlide = index;
      updateCarousel();
    }
    
    function updateCarousel() {
      const track = document.getElementById('carousel-track');
      const dots = document.querySelectorAll('.carousel-dot');
      
      if (track) {
        track.style.transform = `translateX(-${currentSlide * 100}%)`;
      }
      
      dots.forEach((dot, index) => {
        if (index === currentSlide) {
          dot.style.background = 'white';
          dot.style.transform = 'scale(1.2)';
        } else {
          dot.style.background = 'rgba(255,255,255,0.5)';
          dot.style.transform = 'scale(1)';
        }
      });
    }
    
    // Select egg type
    function selectEggType(type) {
      selectedEggType = type;
      selectedFlavors = [];
      selectedSize = null;
      
      // Reset all egg cards
      document.querySelectorAll('.egg-card').forEach(card => {
        card.classList.remove('selected');
        card.querySelector('svg').classList.add('hidden');
        card.querySelector('[id$="-check"]').style.background = 'transparent';
      });
      
      // Highlight selected card
      const selectedCard = document.querySelector(`[data-egg-type="${type}"]`);
      selectedCard.classList.add('selected');
      selectedCard.querySelector('svg').classList.remove('hidden');
      selectedCard.querySelector('[id$="-check"]').style.background = '#d4a574';
      
      // Handle size options for trufado
      const sizeOptions = document.getElementById('size-options');
      if (type === 'trufado') {
        sizeOptions.classList.remove('opacity-50', 'pointer-events-none');
        maxFlavors = 1;
        document.getElementById('flavor-instruction').innerHTML = 'ğŸ“Œ Escolha <strong>1 sabor</strong> para seu ovo trufado';
      } else {
        sizeOptions.classList.add('opacity-50', 'pointer-events-none');
        document.querySelectorAll('input[name="size"]').forEach(r => r.checked = false);
        maxFlavors = 3;
        document.getElementById('flavor-instruction').innerHTML = 'ğŸ“Œ Para o Trio de Mini Ovos, escolha <strong>exatamente 3 sabores</strong> (pode repetir!)';
      }
      
      // Enable step 2
      document.getElementById('step2').classList.remove('opacity-50', 'pointer-events-none');
      
      // Update step indicators
      document.getElementById('step1-indicator').classList.add('completed');
      document.getElementById('step2-indicator').classList.add('active');
      document.getElementById('step2-indicator').style.background = 'linear-gradient(135deg, #d4a574, #8b5a2b)';
      document.getElementById('step2-indicator').style.color = 'white';
      
      // Reset flavor selections
      document.querySelectorAll('.flavor-chip').forEach(chip => {
        chip.classList.remove('selected');
        chip.style.borderColor = 'transparent';
        chip.style.boxShadow = '0 4px 6px -1px rgba(0, 0, 0, 0.1)';
      });
      
      document.getElementById('selected-flavors').classList.add('hidden');
      
      updateSummary();
    }
    
    // Handle size selection
    document.querySelectorAll('input[name="size"]').forEach(radio => {
      radio.addEventListener('change', (e) => {
        selectedSize = e.target.value;
        updateSummary();
      });
    });
    
    // Toggle flavor selection
    function toggleFlavor(chip) {
      const flavor = chip.dataset.flavor;
      const flavorIndex = selectedFlavors.indexOf(flavor);
      
      if (selectedEggType === 'trio') {
        // For trio, allow up to 3 selections (can repeat)
        if (flavorIndex === -1) {
          if (selectedFlavors.length < maxFlavors) {
            selectedFlavors.push(flavor);
            chip.classList.add('selected');
            chip.style.borderColor = '#8b5a2b';
            chip.style.boxShadow = '0 10px 25px -5px rgba(139, 90, 43, 0.4)';
          }
        } else {
          selectedFlavors.splice(flavorIndex, 1);
          
          // Check if this flavor is still selected elsewhere
          if (!selectedFlavors.includes(flavor)) {
            chip.classList.remove('selected');
            chip.style.borderColor = 'transparent';
            chip.style.boxShadow = '0 4px 6px -1px rgba(0, 0, 0, 0.1)';
          }
        }
      } else {
        // For trufado, only 1 selection
        document.querySelectorAll('.flavor-chip').forEach(c => {
          c.classList.remove('selected');
          c.style.borderColor = 'transparent';
          c.style.boxShadow = '0 4px 6px -1px rgba(0, 0, 0, 0.1)';
        });
        
        selectedFlavors = [flavor];
        chip.classList.add('selected');
        chip.style.borderColor = '#8b5a2b';
        chip.style.boxShadow = '0 10px 25px -5px rgba(139, 90, 43, 0.4)';
      }
      
      updateFlavorDisplay();
      updateSummary();
    }
    
    // Update flavor display
    function updateFlavorDisplay() {
      const container = document.getElementById('selected-flavors');
      const list = document.getElementById('flavor-list');
      
      if (selectedFlavors.length > 0) {
        container.classList.remove('hidden');
        list.innerHTML = selectedFlavors.map(f => 
          `<span class="px-3 py-1 rounded-full text-sm font-medium" style="background: #8b5a2b; color: white;">${f}</span>`
        ).join('');
      } else {
        container.classList.add('hidden');
      }
    }
    
    // Update order summary
    function updateSummary() {
      const summaryContent = document.getElementById('summary-content');
      const summarySection = document.getElementById('order-summary');
      const customerInfo = document.getElementById('customer-info');
      
      let isComplete = false;
      
      if (selectedEggType === 'trio' && selectedFlavors.length > 0) {
        isComplete = true;
      } else if (selectedEggType === 'trufado' && selectedSize && selectedFlavors.length === 1) {
        isComplete = true;
      }
      
      if (selectedEggType) {
        let summaryHTML = '';
        
        if (selectedEggType === 'trio') {
          summaryHTML = `
            <div class="flex items-center gap-3 p-3 rounded-xl" style="background: #fef7ed;">
              <span class="text-2xl">ğŸ</span>
              <div>
                <p class="font-semibold" style="color: #5c3d2e;">Trio de Mini Ovos de Colher</p>
                <p class="text-sm" style="color: #8b6914;">150g (3 Ã— 50g)</p>
              </div>
            </div>
          `;
        } else {
          summaryHTML = `
            <div class="flex items-center gap-3 p-3 rounded-xl" style="background: #fef7ed;">
              <span class="text-2xl">ğŸ«</span>
              <div>
                <p class="font-semibold" style="color: #5c3d2e;">Ovo Trufado Tradicional</p>
                <p class="text-sm" style="color: #8b6914;">${selectedSize || 'Selecione o tamanho'}</p>
              </div>
            </div>
          `;
        }
        
        if (selectedFlavors.length > 0) {
          summaryHTML += `
            <div class="p-3 rounded-xl" style="background: #fef7ed;">
              <p class="text-sm font-semibold mb-2" style="color: #5c3d2e;">Sabores:</p>
              <div class="flex flex-wrap gap-2">
                ${selectedFlavors.map(f => `<span class="px-3 py-1 rounded-full text-xs font-medium" style="background: #8b5a2b; color: white;">${f}</span>`).join('')}
              </div>
            </div>
          `;
        }
        
        // Add delivery information
        const customerName = document.getElementById('customer-name').value.trim();
        const customerCity = document.getElementById('customer-city').value.trim();
        
        if (customerName || customerCity) {
          summaryHTML += `
            <div class="p-3 rounded-xl" style="background: #fef7ed;">
              <p class="text-sm font-semibold mb-2" style="color: #5c3d2e;">ğŸ“ InformaÃ§Ãµes de Entrega:</p>
              <div class="text-sm space-y-1" style="color: #5c3d2e;">
                <p><strong>Nome:</strong> ${customerName || '(nÃ£o preenchido)'}</p>
                <p><strong>Cidade:</strong> ${customerCity || '(nÃ£o preenchida)'}</p>
              </div>
            </div>
          `;
        }
        
        summaryContent.innerHTML = summaryHTML;
        
        // Enable/disable summary section and customer info
        if (isComplete) {
          summarySection.classList.remove('opacity-50', 'pointer-events-none');
          customerInfo.classList.remove('hidden');
          document.getElementById('step2-indicator').classList.add('completed');
          document.getElementById('step3-indicator').classList.add('active', 'completed');
          document.getElementById('step3-indicator').style.background = 'linear-gradient(135deg, #4ade80, #22c55e)';
          document.getElementById('step3-indicator').style.color = 'white';
        } else {
          summarySection.classList.add('opacity-50', 'pointer-events-none');
          customerInfo.classList.add('hidden');
          document.getElementById('step3-indicator').classList.remove('active', 'completed');
          document.getElementById('step3-indicator').style.background = '#e8d5c4';
          document.getElementById('step3-indicator').style.color = '#8b5a2b';
        }
      }
    }
    
    // Send order to WhatsApp
    function sendToWhatsApp() {
      const config = window.elementSdk?.config || defaultConfig;
      const phoneNumber = config.whatsapp_number || defaultConfig.whatsapp_number;
      const customerName = document.getElementById('customer-name').value.trim();
      const customerCity = document.getElementById('customer-city').value.trim();
      
      // Validations with helpful messages
      let errorMessages = [];
      
      if (!customerName) {
        errorMessages.push('Nome completo');
      }
      if (!customerCity) {
        errorMessages.push('Sua cidade');
      }
      if (selectedFlavors.length === 0) {
        errorMessages.push('Escolha um sabor');
      }
      if (selectedEggType === 'trio' && selectedFlavors.length !== 3) {
        errorMessages.push('Trio precisa de 3 sabores');
      }
      if (selectedEggType === 'trufado' && !selectedSize) {
        errorMessages.push('Tamanho do ovo');
      }
      
      if (errorMessages.length > 0) {
        alert('Faltam informacoes:\n\n' + errorMessages.map(e => '- ' + e).join('\n'));
        return;
      }
      
      // Generate unique order number with shorter format
      const orderNumber = 'PAS' + Date.now().toString().slice(-6);
      
      // Build message in the requested format
      let message = 'OVO DE PASCOA - NOVO PEDIDO' + '%0A%0A';
      message += 'Cliente: ' + customerName + '%0A';
      message += 'Cidade: ' + customerCity + '%0A';
      message += 'Pedido no: ' + orderNumber + '%0A%0A';
      
      if (selectedEggType === 'trio') {
        message += 'Produto: Trio de Mini Ovos' + '%0A';
        message += 'Peso total: 150g (3 x 50g)' + '%0A';
      } else {
        message += 'Produto: Ovo Trufado' + '%0A';
        message += 'Peso total: ' + selectedSize + '%0A';
      }
      
      message += '%0ASabores:' + '%0A';
      selectedFlavors.forEach((flavor) => {
        message += 'â€¢ ' + flavor + '%0A';
      });
      
      message += '%0AData do pedido: ' + new Date().toLocaleDateString('pt-BR') + '%0A%0A';
      message += 'Status: Aguardando confirmacao.';
      
      const encodedMessage = encodeURIComponent(message);
      const whatsappURL = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
      
      window.open(whatsappURL, '_blank');
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c75d5d5f6ce4f2b',t:'MTc2OTk5NDkwNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
